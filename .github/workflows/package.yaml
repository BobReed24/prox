name: Publish npm Package

on:
  # Trigger the action manually from the GitHub UI
  workflow_dispatch:
    # You can optionally add inputs here for more flexibility
    # inputs:
    #   example_input:
    #     description: 'An example input'
    #     required: true
    #     default: 'default_value'

jobs:
  publish:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '16'

      - name: Install dependencies
        run: npm i

      - name: Configure npm
        run: echo "//registry.npmjs.org/:_authToken=${{ secrets.NPM_TOKEN }}" > ~/.npmrc

      - name: Publish npm package
        run: npm publish --access=public
